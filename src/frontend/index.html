<!-- src/frontend/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Virtual Access Door</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="container">
    <h1>Virtual Access Door</h1>
    <p class="subtitle">
      Simulate door access and record events for attendance.
    </p>

    <form id="access-form">
      <div class="field">
        <label for="userId">User ID</label>
        <input type="number" id="userId" name="userId" required />
      </div>

      <div class="field">
        <label for="doorId">Door</label>
        <select id="doorId" name="doorId" required>
          <option value="">-- Select door --</option>
          <option value="1">Main Entrance</option>
          <option value="2">Lab Door</option>
          <option value="3">Meeting Room</option>
        </select>
      </div>

      <div class="field">
        <label for="method">Method</label>
        <select id="method" name="method">
          <option value="qr">QR Code</option>
          <option value="otp">OTP</option>
          <option value="password">Password</option>
        </select>
      </div>

      <button type="submit">Check in</button>
    </form>

    <div id="result" class="result"></div>
  </main>

  <script>
    const form = document.getElementById('access-form');
    const resultBox = document.getElementById('result');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const payload = {
        userId: form.userId.value,
        doorId: form.doorId.value,
        method: form.method.value,
      };

      // TODO: This will be achieved later.//
      // const res = await fetch('/api/virtual-entry', { ... });

      // Now assume it is successful.//
      const now = new Date().toLocaleString();
      resultBox.textContent =
        `Event recorded (simulated): user ${payload.userId} ` +
        `entered door ${payload.doorId} via ${payload.method} at ${now}.`;
    });
  </script>
</body>
</html>

